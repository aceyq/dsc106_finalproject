<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Climate Futures Explorer – Prototype</title>
  <link rel="stylesheet" href="style.css" />
  <!-- D3.js -->
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <!-- Scrollama for scrollytelling -->
  <script src="https://unpkg.com/scrollama"></script>
</head>

<body class="scn-ssp245">
  <header>
    <h1>Climate Futures Explorer</h1>
    <p>DSC 106 Final Project – Interactive Prototype</p>
  </header>

  <main>

    <!-- Intro / Overview -->
    <section id="intro">
      <h2>Why We Built This Explorer</h2>
      <p>
        Climate projections often live in dense reports and static figures. Our goal with the
        Climate Futures Explorer is to turn those projections into something you can actually play with:
        a space where you can move between regions, switch between emission pathways, and feel how the
        shape of the future changes.
      </p>
      <p>
        This prototype focuses on two core climate variables—near-surface air temperature and daily
        precipitation—from CMIP6 scenarios. By connecting a world map, scenario story beats, and linked
        time-series charts, we want to make it easier to see how “global warming” splits into many
        different regional futures.
      </p>
    </section>

    <!-- Tabs: Explorer vs Write-Up -->
    <div id="tab-bar">
      <button class="tab-btn active" data-tab="explorer">Interactive Explorer</button>
      <button class="tab-btn" data-tab="writeup">Design &amp; Reflection</button>
    </div>

    <!-- ================== EXPLORER TAB ================== -->
    <section id="explorer" class="tab-panel active">

      <!-- SCROLLYTELLING: story on left, map + charts on right -->
      <section id="scrolly-1">
        <!-- Story / narrative column -->
        <div id="scrolly-text">
          <!-- Progress bar for story -->
          <div id="scroll-progress">
            <div id="scroll-progress-inner"></div>
          </div>

          <h2>Following the Branching Paths of the Future</h2>
          <p class="scrolly-intro">
            The same planet can end up in very different places. On the left, each story beat introduces
            one CMIP6 emissions pathway. On the right, the map and charts respond: temperatures bend upward,
            rainfall patterns shift, and some regions diverge sharply from the global average.
            <strong>And</strong> all of these futures start from the same world.
            <strong>But</strong> they fan out depending on our choices.
            <strong>Therefore</strong>, this explorer is built to help you compare those paths side-by-side,
            region by region.
          </p>

          <div class="step is-active" data-scenario="ssp126">
            <h3>SSP1-2.6 – A world that pulls back</h3>
            <p>
              In SSP1-2.6, strong climate policy and rapid decarbonization keep warming comparatively shallow.
              Ecosystems still face stress, but changes unfold more slowly, giving forests, crops, and cities
              more time to adapt before major biome shifts lock in.
            </p>
          </div>

          <div class="step" data-scenario="ssp245">
            <h3>SSP2-4.5 – A “middle-of-the-road” future</h3>
            <p>
              SSP2-4.5 sits close to our current trajectory. Warming accelerates after mid-century, and
              precipitation shifts become more noticeable—heavier downpours in some regions and drying in others.
              Risks for crops, water systems, and fire-prone landscapes start to feel less like “rare events”
              and more like a new normal.
            </p>
          </div>

          <div class="step" data-scenario="ssp370">
            <h3>SSP3-7.0 – Fragmented action, higher risks</h3>
            <p>
              In SSP3-7.0, global cooperation stalls. Temperatures climb more steeply, and rainfall becomes
              more volatile. Some regions face repeated droughts while others see heavier storms, increasing
              the chance of vegetation stress, crop failures, and abrupt biome disruption.
            </p>
          </div>

          <div class="step" data-scenario="ssp585">
            <h3>SSP5-8.5 – The fossil-fuel intensive benchmark</h3>
            <p>
              SSP5-8.5 imagines a fossil-fuel heavy world and serves as a “worst-case” benchmark. Warming is
              fast and large, and the climate system has far less time to settle into new patterns. In this
              future, ecosystems are pushed hardest: large-scale biome transitions become much more likely,
              and adaptation has to race to catch up.
            </p>
          </div>
        </div>

        <!-- Visualization column: map + controls + charts -->
        <div id="scrolly-viz">

          <!-- Scenario insight strip -->
          <div id="scenario-insight" class="scenario-insight">
            <strong>SSP2-4.5 in Global:</strong>
            A middle-of-the-road future—warming is significant but not the worst case, leaving a shrinking window for adaptation.
          </div>

          <!-- Region Map -->
          <section id="map-section" class="viz-section">
            <h2>Locating These Futures on the Map</h2>
            <p>
              Climate change is never just a line on a chart—it’s a pattern on a map. Click a highlighted region
              to focus on that part of the world. The temperature and precipitation charts update to show how that
              region’s story compares to the global picture.
            </p>
            <div id="region-map" class="map-container"></div>
            <div id="region-summary" class="region-summary-card">
              <h3>Global snapshot under SSP2-4.5</h3>
              <p>
                Under SSP2-4.5, global temperatures climb steadily from pre-industrial levels to the end of the
                century. Use the map below to see which regions warm faster or slower than the planet as a whole,
                and how their rainfall patterns drift away from “normal.”
              </p>
            </div>
          </section>

          <!-- Controls -->
          <section id="controls">
            <h2>Choose a Region, Compare Pathways</h2>
            <div class="control-row">
              <div class="control-group region-label">
                <span class="control-label">Current region:</span>
                <span id="current-region-label">Global</span>
              </div>

              <div class="scenario-pills" id="scenario-pills">
                <button class="pill active" data-scn="ssp126">SSP1-2.6</button>
                <button class="pill active" data-scn="ssp245">SSP2-4.5</button>
                <button class="pill active" data-scn="ssp370">SSP3-7.0</button>
                <button class="pill active" data-scn="ssp585">SSP5-8.5</button>
              </div>
            </div>
            <p class="control-help">
              Use the map to pick a region. Toggle the scenario buttons to show one pathway at a time
              or compare several. When you scroll through the story cards on the left, the explorer briefly
              zooms in on a single pathway, then hands control back to you.
            </p>
          </section>

          <!-- Temperature Viz -->
          <section id="viz-temp" class="viz-section">
            <h2>How Warm Does It Get?</h2>
            <p>
              This chart shows projected near-surface air temperature (°C) for the selected scenario(s) and region
              from 1850 to 2100 (where available). Higher-emissions scenarios produce steeper curves: the same
              starting point, but very different destinations.
            </p>
            <div class="chart-header">
              <div id="temp-chart-legend" class="legend"></div>
            </div>
            <div id="temp-chart" class="chart-container"></div>
          </section>

          <!-- Precip Viz -->
          <section id="viz-precip" class="viz-section">
            <h2>How Rainfall Patterns Shift</h2>
            <p>
              This chart shows projected daily precipitation (mm/day) for the same scenario(s) and region.
              In some places, climate change shows up as heavier downpours; in others, as subtle drying.
              These shifts can drive vegetation greening, browning, or transitions into entirely new biomes.
            </p>
            <div class="chart-header">
              <div id="precip-chart-legend" class="legend"></div>
            </div>
            <div id="precip-chart" class="chart-container"></div>
          </section>

          <!-- Impact Snapshot -->
          <section id="impact" class="viz-section">
            <h2>What Does This Add Up To?</h2>
            <p>
              For the highlighted scenario, we compare the beginning and end of the time
              series for this region. These numbers are approximate, but they give a
              sense of how much the local climate shifts over a human lifetime.
            </p>

            <div id="impact-cards">
              <div class="impact-card" id="impact-temp">
                <h3>Warming by 2100</h3>
                <p class="impact-value"><span id="impact-temp-delta">–</span> °C</p>
                <p class="impact-caption" id="impact-temp-caption">
                  Select a region and scenario to see how much warmer it gets relative to today.
                </p>
                <div class="impact-bar-shell">
                  <div class="impact-bar-bg"></div>
                  <div class="impact-bar-fill" id="impact-temp-bar"></div>
                  <div class="impact-bar-labels">
                    <span>+0°C</span>
                    <span>+6°C+</span>
                  </div>
                </div>
              </div>

              <div class="impact-card" id="impact-precip">
                <h3>Change in Daily Rainfall</h3>
                <p class="impact-value"><span id="impact-precip-delta">–</span></p>
                <p class="impact-caption" id="impact-precip-caption">
                  We estimate how much average daily precipitation shifts between the start
                  and end of the record.
                </p>
                <div class="impact-bar-shell">
                  <div class="impact-bar-bg"></div>
                  <div class="impact-bar-fill" id="impact-precip-bar"></div>
                  <div class="impact-bar-labels">
                    <span>−40%</span>
                    <span>+40%+</span>
                  </div>
                </div>
              </div>
            </div>

            <p class="impact-footnote">
              Note: Values are rough differences between the earliest and latest years available in the data
              for the selected region and scenario. They are meant for intuition, not precise forecasting.
            </p>
          </section>

          <!-- Planned narrative / future structure -->
          <section id="narrative">
            <h2>Where We Want to Take This Next</h2>
            <p>
              This prototype is a first pass at an “explorable explanation” of climate futures. As we iterate, we plan to:
            </p>
            <ul>
              <li>Layer in more detailed uncertainty views (model spreads and ranges, not just single lines).</li>
              <li>Highlight regional contrasts more explicitly with annotations and callouts.</li>
              <li>Connect climate projections to potential vegetation responses and biome transitions.</li>
              <li>Refine the scrollytelling so each step lands with a clear, memorable takeaway.</li>
            </ul>
          </section>

        </div>
      </section>
    </section>

    <!-- ================== WRITE-UP TAB ================== -->
    <section id="writeup" class="tab-panel">
      <section class="writeup-inner">
        <h2>Design Notes &amp; Project Status</h2>

        <h3>What the Explorer Can Do Right Now</h3>
        <p>
          At this stage, the Climate Futures Explorer already lets you move between three key pieces:
          a narrative scaffold (the scenario story beats), a world map of regions, and linked time-series
          charts for temperature and precipitation. The UI wiring is in place: changing the region on the
          map updates both charts, and the scrollytelling column can temporarily focus the view on a single
          emissions pathway.
        </p>
        <p>
          Under the hood, we have processed CMIP6 temperature and precipitation data into CSV files that
          can be loaded efficiently in the browser. We designed a shared charting function in D3 that
          handles multiple scenarios at once, builds legends automatically, and animates the line transitions
          so that scenario changes feel like a smooth “morph” rather than a hard jump.
        </p>
        <p>
          On the visual side, we’ve established a consistent design language: a dark, atmospheric background,
          lighter card-style panels for content, and color encodings that distinguish scenarios without
          overwhelming the reader. The prototype now has enough structure that we can focus less on plumbing
          and more on the story we want visitors to walk away with.
        </p>

        <h3>What’s Hard About Telling This Story Well</h3>
        <p>
          The hardest part of this project is not drawing lines on a chart—it’s deciding how much complexity
          to show without losing the plot. CMIP6 contains multiple scenarios, regions, time periods, and model
          runs, and it is easy to overwhelm the reader with sliders and options. Our challenge is to design
          interactions that feel curious and inviting, rather than like operating a control panel.
        </p>
        <p>
          Integrating spatial context is another challenge. Maps are great for grounding the data in place,
          but they can easily compete with time-series views for the reader’s attention. We are still refining
          how tightly to couple the map and the charts so that “clicking a region” feels like a natural way
          to move the story forward, rather than just another filter.
        </p>
        <p>
          Finally, there is the question of uncertainty. CMIP6 projections are not single, definitive futures;
          they are families of model runs with different assumptions and spread. Communicating that honestly
          without drowning the reader in confidence intervals and error bands is difficult. Our goal is to
          add simple, readable encodings of uncertainty that support the main narrative: that broad patterns
          of warming are robust, even if the exact numbers vary, and that our choices now tilt the odds toward
          one branch of the future or another.
        </p>
      </section>
    </section>

  </main>

  <footer>
    <p>Prototype v0.4 – DSC 106 Fall 2025</p>
  </footer>

  <script src="script.js"></script>
</body>
</html>
